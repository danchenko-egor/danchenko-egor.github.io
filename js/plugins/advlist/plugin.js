(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const e=(t,e,r)=>{const s="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(s,!1,!1===r?null:{"list-style-type":r})},r=t=>{t.addCommand("ApplyUnorderedListStyle",((r,s)=>{e(t,"UL",s["list-style-type"])})),t.addCommand("ApplyOrderedListStyle",((r,s)=>{e(t,"OL",s["list-style-type"])}))},s=t=>e=>e.options.get(t),n=t=>{const e=t.options.register;e("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),e("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},l=s("advlist_number_styles"),i=s("advlist_bullet_styles"),o=t=>null===t||void 0===t,a=t=>!o(t);var u=tinymce.util.Tools.resolve("tinymce.util.Tools");class d{constructor(t,e){this.tag=t,this.value=e}static some(t){return new d(!0,t)}static none(){return d.singletonNone}fold(t,e){return this.tag?e(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?d.some(t(this.value)):d.none()}bind(t){return this.tag?t(this.value):d.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:d.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(null!==t&&void 0!==t?t:"Called getOrDie on None")}static from(t){return a(t)?d.some(t):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);const g=(t,e)=>t.dom.isChildOf(e,t.getBody()),h=t=>a(t)&&/^(TH|TD)$/.test(t.nodeName),c=t=>e=>a(e)&&/^(OL|UL|DL)$/.test(e.nodeName)&&g(t,e),m=t=>{const e=t.dom.getParent(t.selection.getNode(),"ol,ul"),r=t.dom.getStyle(e,"listStyleType");return d.from(r)},p=(t,e)=>null!==e&&"false"===t.dom.getContentEditableParent(e),v=(t,e)=>{const r=t.dom.getParent(e,"ol,ul,dl");return p(t,r)},y=(t,e)=>{for(let r=0;r<t.length;r++){const s=t[r];if(e(s))return r}return-1},f=t=>t.replace(/\-/g," ").replace(/\b\w/g,(t=>t.toUpperCase())),L=t=>o(t)||"default"===t?"":t,O=(t,e,r)=>{const s=y(e.parents,h),n=-1!==s?e.parents.slice(0,s):e.parents,l=u.grep(n,c(t));return l.length>0&&l[0].nodeName===r},C=(t,e)=>r=>{const s=s=>{r.setActive(O(t,s,e)),r.setEnabled(!v(t,s.element))};return t.on("NodeChange",s),()=>t.off("NodeChange",s)},N=(t,r,s,n,l,i)=>{t.ui.registry.addSplitButton(r,{tooltip:s,icon:"OL"===l?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:t=>{const e=u.map(i,(t=>{const e="OL"===l?"num":"bull",r="disc"===t||"decimal"===t?"default":t,s=L(t),n=f(t);return{type:"choiceitem",value:s,icon:"list-"+e+"-"+r,text:n}}));t(e)},onAction:()=>t.execCommand(n),onItemAction:(r,s)=>{e(t,l,s)},select:e=>{const r=m(t);return r.map((t=>e===t)).getOr(!1)},onSetup:C(t,l)})},b=(t,r,s,n,l,i)=>{t.ui.registry.addToggleButton(r,{active:!1,tooltip:s,icon:"OL"===l?"ordered-list":"unordered-list",onSetup:C(t,l),onAction:()=>t.queryCommandState(n)||""===i?t.execCommand(n):e(t,l,i)})},w=(t,e,r,s,n,l)=>{l.length>1?N(t,e,r,s,n,l):b(t,e,r,s,n,L(l[0]))},S=t=>{w(t,"numlist","Numbered list","InsertOrderedList","OL",l(t)),w(t,"bullist","Bullet list","InsertUnorderedList","UL",i(t))};var T=()=>{t.add("advlist",(t=>{t.hasPlugin("lists")?(n(t),S(t),r(t)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))};T()})();