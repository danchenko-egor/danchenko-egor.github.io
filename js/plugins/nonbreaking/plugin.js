(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const e=n=>e=>typeof e===n,a=e("boolean"),o=e("number"),t=n=>e=>e.options.get(n),i=n=>{const e=n.options.register;e("nonbreaking_force_tab",{processor:n=>a(n)?{value:n?3:0,valid:!0}:o(n)?{value:n,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),e("nonbreaking_wrap",{processor:"boolean",default:!0})},r=t("nonbreaking_force_tab"),s=t("nonbreaking_wrap"),c=(n,e)=>{let a="";for(let o=0;o<e;o++)a+=n;return a},l=n=>!!n.plugins.visualchars&&n.plugins.visualchars.isEnabled(),u=(n,e)=>{const a=()=>l(n)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",o=()=>`<span class="${a()}" contenteditable="false">${c("&nbsp;",e)}</span>`,t=s(n),i=t||n.plugins.visualchars?o():c("&nbsp;",e);n.undoManager.transact((()=>n.insertContent(i)))},b=n=>{n.addCommand("mceNonBreaking",(()=>{u(n,1)}))};var g=tinymce.util.Tools.resolve("tinymce.util.VK");const p=n=>{const e=r(n);e>0&&n.on("keydown",(a=>{if(a.keyCode===g.TAB&&!a.isDefaultPrevented()){if(a.shiftKey)return;a.preventDefault(),a.stopImmediatePropagation(),u(n,e)}}))},d=n=>{const e=()=>n.execCommand("mceNonBreaking");n.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:e}),n.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:e})};var m=()=>{n.add("nonbreaking",(n=>{i(n),b(n),d(n),p(n)}))};m()})();